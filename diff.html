<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Quick Diff Tool</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 20px; }
        .container { max-width: 1400px; margin: 0 auto; }
        .input-area { display: flex; gap: 20px; margin-bottom: 20px; }
        .text-box { flex: 1; }
        textarea { width: 100%; height: 300px; font-family: monospace; }
        button { background: #4CAF50; color: white; padding: 10px 20px; border: none; cursor: pointer; }
        #diff { margin-top: 20px; }
        ins { background: #a5d6a7; text-decoration: none; }
        del { background: #ef9a9a; text-decoration: none; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Resume Diff Tool</h1>
        <div class="input-area">
            <div class="text-box">
                <h3>Original</h3>
                <textarea id="original" placeholder="Paste original resume here..."></textarea>
            </div>
            <div class="text-box">
                <h3>Optimized</h3>
                <textarea id="optimized" placeholder="Paste optimized resume here..."></textarea>
            </div>
        </div>
        <button onclick="compare()">Compare</button>
        <div id="diff"></div>
    </div>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/diff_match_patch/20121119/diff_match_patch.js"></script>
    <script>
        // Check URL parameters
        const params = new URLSearchParams(window.location.search);
        const left = params.get('left');
        const right = params.get('right');
        
        if (left) document.getElementById('original').value = decodeURIComponent(left);
        if (right) document.getElementById('optimized').value = decodeURIComponent(right);
        
        function compare() {
            const text1 = document.getElementById('original').value;
            const text2 = document.getElementById('optimized').value;
            
            const dmp = new diff_match_patch();
            const diff = dmp.diff_main(text1, text2);
            dmp.diff_cleanupSemantic(diff);
            
            const html = dmp.diff_prettyHtml(diff);
            document.getElementById('diff').innerHTML = '<h2>Differences:</h2>' + html;
        }
        
        // Auto-compare if data provided
        if (left && right) compare();
    </script>
</body>
</html>